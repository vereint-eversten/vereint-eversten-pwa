<script>
  const calendarGrid = document.getElementById("calendarGrid");
  const monthTitle = document.getElementById("monthTitle");
  const dialog = document.getElementById("eventDialog");
  const eventTitle = document.getElementById("eventTitle");
  const eventDate = document.getElementById("eventDate");
  const eventDescription = document.getElementById("eventDescription");

  let currentDate = new Date();

  function renderCalendar(date = new Date()) {
    const year = date.getFullYear();
    const month = date.getMonth();

    const monthNames = [
      "Januar","Februar","März","April","Mai","Juni",
      "Juli","August","September","Oktober","November","Dezember"
    ];
    monthTitle.textContent = ${monthNames[month]} ${year};

    const firstDay = new Date(year, month, 1);
    const startDay = firstDay.getDay() === 0 ? 7 : firstDay.getDay(); // Montag = 1
    const daysInMonth = new Date(year, month + 1, 0).getDate();

    let html = "";
    // leere Felder vor Monatsanfang
    for (let i = 1; i < startDay; i++) html += <div class="cell"></div>;
    // Tage
    for (let d = 1; d <= daysInMonth; d++) {
      html += `
        <div class="cell" data-day="${d}">
          <div class="date">${d}.</div>
        </div>`;
    }
    calendarGrid.innerHTML = html;
  }

  calendarGrid.addEventListener("click", (e) => {
    const cell = e.target.closest(".cell");
    if (!cell) return;

    const day = cell.dataset.day;
    if (!day) return;

    eventTitle.textContent = Beispieltermin am ${day}.;
    eventDate.textContent = ${day}. ${monthTitle.textContent};
    eventDescription.textContent = "Dies ist eine Vorschau für einen Beispieltermin.";
    dialog.style.display = "flex";
  });

  function closeDialog() {
    dialog.style.display = "none";
  }

  document.getElementById("prevBtn").onclick = () => {
    currentDate.setMonth(currentDate.getMonth() - 1);
    renderCalendar(currentDate);
  };
  document.getElementById("nextBtn").onclick = () => {
    currentDate.setMonth(currentDate.getMonth() + 1);
    renderCalendar(currentDate);
  };

  renderCalendar(currentDate);
</script>
